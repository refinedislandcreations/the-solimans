<header class="sticky top-0 z-30 border-b border-slate-200/20 bg-white/70 dark:bg-neutral-950/70 backdrop-blur">
  {% assign current      = page.url | relative_url %}
  {% assign href_home    = '/' | relative_url %}
  {% assign href_meal    = '/meal-plan.html' | relative_url %}
  {% assign href_restaurant   = '/restaurant.html' | relative_url %}
  {% assign href_about   = '/about.html' | relative_url %}
  {% assign href_contact = '/#contact' | relative_url %}

  <!-- WIDER container + lebih center padding -->
  <div class="w-full max-w-[1440px] mx-auto h-16 px-8 lg:px-16 flex items-center justify-between">
    <!-- Brand: logo saja, lebih besar -->
    <a href="{{ href_home }}" class="inline-flex items-center">
      <img
        src="{{ '/images/the-solimans-logo.png' | relative_url }}"
        alt="The Solimans"
        class="h-14 w-14 md:h-16 md:w-16 object-cover"
        onerror="this.style.display='none'">
    </a>

    <div class="flex items-center gap-4 lg:gap-8">
      <!-- Desktop nav -->
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="{{ href_home }}"
           class="uppercase font-semibold inline-block pb-1 border-b-2
           {% if current == href_home %}
             text-white dark:text-white font-extrabold border-[#919b4a]
           {% else %}
             text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-white
           {% endif %}">Home</a>

        <a href="{{ href_meal }}"
           class="uppercase font-semibold inline-block pb-1 border-b-2
           {% if current == href_meal or current == '/meal-plan-request.html' %}
             text-white dark:text-white font-extrabold border-[#919b4a]
           {% else %}
             text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-white
           {% endif %}">Meal Plan</a>

        <a href="{{ href_restaurant }}"
           class="uppercase font-semibold inline-block pb-1 border-b-2
           {% if current == href_restaurant or current contains href_restaurant %}
             text-white dark:text-white font-extrabold border-[#919b4a]
           {% else %}
             text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-white
           {% endif %}">Restaurant</a>

        <a href="{{ href_about }}"
           class="uppercase font-semibold inline-block pb-1 border-b-2
           {% if current == href_about or current contains href_about %}
             text-white dark:text-white font-extrabold border-[#919b4a]
           {% else %}
             text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-white
           {% endif %}">About</a>

        <!-- <a href="{{ href_contact }}"
           class="uppercase font-semibold inline-block pb-1 border-b-2
           {% if current == href_contact or current contains href_contact %}
             text-white dark:text-white font-extrabold border-[#919b4a]
           {% else %}
             text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-white
           {% endif %}">Contact</a> -->
      </nav>

      <!-- Theme toggle -->
      <!-- <button id="theme-toggle"
        class="inline-grid place-items-center h-10 w-10 rounded-full border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition"
        type="button" aria-label="Toggle dark mode">
        <svg id="icon-sun" class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="4"></circle>
          <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"/>
        </svg>
        <svg id="icon-moon" class="h-5 w-5 hidden dark:inline" viewBox="0 0 24 24" fill="currentColor">
          <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/>
        </svg>
      </button> -->

      <!-- Hamburger (mobile) -->
      <button id="menu-toggle"
        class="md:hidden inline-grid place-items-center h-10 w-10 border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition"
        type="button" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu">
        <svg class="h-8 w-8 text-white-500"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <line x1="3" y1="12" x2="21" y2="12" />  <line x1="3" y1="6" x2="21" y2="6" />  <line x1="3" y1="18" x2="21" y2="18" /></svg>
      </button>
    </div>
  </div>
</header>

<!-- Drawer menu -->
<div id="mobile-menu" class="md:hidden fixed inset-0 z-40 hidden">
  <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" data-close></div>
  <div class="absolute top-0 right-0 h-full w-full max-w-sm bg-neutral-950 text-white shadow-xl translate-x-full transition-transform duration-300 ease-out" data-panel>
    <div class="h-16 px-6 flex items-center justify-between">
      <span class="font-extrabold tracking-tight">Menu</span>
      <button type="button" class="h-10 w-10 grid place-items-center rounded-full border border-white/10 hover:bg-white/5" data-close aria-label="Close menu">
        <svg class="h-8 w-8 text-white-500"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <line x1="18" y1="6" x2="6" y2="18" />  <line x1="6" y1="6" x2="18" y2="18" /></svg>
      </button>
    </div>
    <nav class="px-6 py-4 space-y-1">
      <a href="{{ href_home }}" class="block px-3 py-3 rounded-lg hover:bg-white/5 {% if current == href_home %}bg-white/10 font-extrabold text-white{% else %}text-slate-300{% endif %}">Home</a>
      <a href="{{ href_meal }}" class="block px-3 py-3 rounded-lg hover:bg-white/5 {% if current == href_meal or current contains href_meal %}bg-white/10 font-extrabold text-white{% else %}text-slate-300{% endif %}">Meal Plan</a>
      <a href="{{ href_about }}" class="block px-3 py-3 rounded-lg hover:bg-white/5 {% if current == href_about or current contains href_about %}bg-white/10 font-extrabold text-white{% else %}text-slate-300{% endif %}">About</a>
      <a href="{{ href_contact }}" class="block px-3 py-3 rounded-lg hover:bg-white/5 {% if current == href_contact or current contains href_contact %}bg-white/10 font-extrabold text-white{% else %}text-slate-300{% endif %}">Contact</a>
    </nav>
  </div>
</div>

<script>
  (function(){
    // Dark default
    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    if (saved === 'light') root.classList.remove('dark'); else root.classList.add('dark');

    const btnTheme = document.getElementById('theme-toggle');
    const sun = document.getElementById('icon-sun');
    const moon = document.getElementById('icon-moon');
    function sync(){ const d=root.classList.contains('dark'); sun?.classList.toggle('hidden',d); moon?.classList.toggle('hidden',!d); }
    sync();
    btnTheme?.addEventListener('click', ()=>{ const d=!root.classList.contains('dark'); root.classList.toggle('dark',d); localStorage.setItem('theme', d?'dark':'light'); sync(); });

    // Drawer
    const btnMenu = document.getElementById('menu-toggle');
    const drawer = document.getElementById('mobile-menu');
    if (!btnMenu || !drawer) return;
    const panel  = drawer.querySelector('[data-panel]');
    const closes = drawer.querySelectorAll('[data-close]');
    function openMenu(){ drawer.classList.remove('hidden'); btnMenu.setAttribute('aria-expanded','true'); requestAnimationFrame(()=>panel.classList.remove('translate-x-full')); document.body.style.overflow='hidden'; }
    function closeMenu(){ panel.classList.add('translate-x-full'); panel.addEventListener('transitionend',()=>drawer.classList.add('hidden'),{once:true}); btnMenu.setAttribute('aria-expanded','false'); document.body.style.overflow=''; }
    btnMenu.addEventListener('click', openMenu);
    closes.forEach(el=>el.addEventListener('click', closeMenu));
    window.addEventListener('keydown', e=>{ if(e.key==='Escape' && !drawer.classList.contains('hidden')) closeMenu(); });
  })();
</script>
<!-- <script>
  const current = {{ href_meal | jsonify }};
  console.log('current:', current);
</script> -->